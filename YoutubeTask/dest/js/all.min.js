function concatenateString(e,t){return e+t}(myApp=myApp||{}).ui=function(e){function t(){var t=e.getElementById("container").querySelector(".tiles");(a=c.currentPageIndex*c.pageSize)>c.totalItems.length&&(a=0,c.currentPageIndex=0),o=a+c.pageSize,t.querySelectorAll("li").forEach(function(e,t){t>=a&&t<o?e.classList.remove("hide"):e.classList.add("hide")}),function(){var t=e.body,n=e.createElement("ul"),i=e.getElementById("pages"),a=null;pagecount=Math.round(c.totalItems.length/c.pageSize),(a=e.createElement("li")).appendChild(e.createTextNode("<<")),a.setAttribute("pageindex",0),n.appendChild(r(a));for(var o=0;o<pagecount;o++)(a=e.createElement("li")).setAttribute("pageindex",o),a.appendChild(e.createTextNode(o+1)),n.appendChild(r(a));if((a=e.createElement("li")).appendChild(e.createTextNode(">>")),a.setAttribute("pageindex",3),n.appendChild(r(a)),n.className="pager",n.childNodes.forEach(function(e){e.attributes.pageindex.value!=c.currentPageIndex||e.classList.add("selected")}),null!=i){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(n)}else(i=e.createElement("div")).id="pages",i.appendChild(n);t.appendChild(i)}()}function n(t){var n=e.querySelector("#tileTemplate"),i=(n.content.querySelector(".tile"),n.content.querySelector(".content")),r=i.querySelector(".videoImg"),a=i.querySelector(".title"),o=i.querySelector(".publishedDate"),c=i.querySelector(".viewsCount"),s=i.querySelector(".description");return r.setAttribute("src",t.imgUrl),a.textContent=t.title,o.textContent=function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getUTCMonth()+1)+"-"+t.getUTCDate()}(t.publishedDate),c.textContent=t.viewsCount,s.textContent=t.description,e.importNode(n.content,!0)}function i(){for(var i=e.body,r=e.querySelector("#template"),a=r.content.querySelector("#container").querySelector(".tiles"),o=c.totalItems,u=e.getElementById("container");a.hasChildNodes();)a.removeChild(a.lastChild);o.forEach(function(e){a.appendChild(n(e))}),u&&i.removeChild(u),i.appendChild(e.importNode(r.content,!0)),(d=window.innerWidth||e.documentElement.clientWidth||e.body.clientWidth)<s.MAX_WIDTH&&d>s.MIN_WIDTH?c.pageSize=2:d<s.MAX_WIDTH?c.pageSize=1:c.pageSize=4,t()}function r(e){return e.addEventListener("click",function(e){e.target.parentNode.childNodes.forEach(function(e){e.classList.remove("selected")}),e.target.classList.add("selected"),c.currentPageIndex=parseInt(e.target.attributes.pageindex.value),t()}),e}var a=0,o=0,c={totalItems:[],pageSize:4,currentPageIndex:0},s={MIN_WIDTH:450,MAX_WIDTH:750},d=window.innerWidth||e.documentElement.clientWidth||e.body.clientWidth;return{init:function(e){c.pageSize=e.pageSize||c.pageSize,c.totalItems=e.totalItems||c.totalItems,i()},createSearch:function(t){var n=e.body,i=e.createDocumentFragment(),r=e.createElement("div");searchBox=e.createElement("input"),searchButton=e.createElement("input"),searchBox.setAttribute("type","text"),searchBox.setAttribute("id","txtSearch"),searchBox.setAttribute("class","col-md-6"),searchBox.setAttribute("placeholder","search"),searchButton.setAttribute("type","button"),searchButton.setAttribute("value","Search"),searchButton.addEventListener("click",function(e){t(searchBox.value)}),r.className="searchDiv",r.appendChild(searchBox),r.appendChild(searchButton),i.appendChild(r),n.appendChild(i)}}}(document);(myApp=myApp||{}).http=function(){return{get:function(e){return new Promise(function(t,n){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onload=function(){4==i.readyState&&200==i.status?t(i.responseText):n(i.statusText)},i.onerror=function(){n(i.statusText)},i.send()})}}}();(myApp=myApp||{}).main=function(e,t){function n(n){e.search(n).then(function(e){!function(e){videos=[],e.items.forEach(function(e){videos.push({videoId:e.id.videoId,title:e.snippet.channelTitle,description:e.snippet.description,publishedDate:e.snippet.publishedAt,imgUrl:e.snippet.thumbnails.medium.url,viewsCount:e.statistics?e.statistics.viewCount:0})}),t.init({totalItems:videos,pageSize:i})}(e)})}var i=4;t.createSearch(n)}(myApp.service,myApp.ui);var myApp,VIDEO_URL="https://www.googleapis.com/youtube/v3/search?key=AIzaSyCTWC75i70moJLzyNh3tt4jzCljZcRkU8Y&type=video&part=snippet&maxResults=15&q=",STATS_URL="https://www.googleapis.com/youtube/v3/videos?key=AIzaSyCTWC75i70moJLzyNh3tt4jzCljZcRkU8Y&id=";(myApp=myApp||{}).service=function(e){return{search:function(t){var n=[],i=[];return function(t){var n=VIDEO_URL+t;return e.get(n)}(t).then(function(t){return(n=JSON.parse(t)).items.forEach(function(e){i.push(e.id.videoId)}),function(t){var n=STATS_URL+t+"&part=snippet,statistics";return e.get(n)}(i)}).then(function(e){var t=JSON.parse(e);return n.items.forEach(function(e){t.items.forEach(function(t){t.id!=e.id.videoId||(e.statistics=t.statistics)})}),n})}}}(myApp.http);